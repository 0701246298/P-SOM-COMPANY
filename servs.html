<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P-Som Company</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- AOS Animation -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
--bg-light:#f5f7fa;
--container:#ffffff;
--dark-bg:#1e1e2f;
--dark-card:#2e2e48;
--primary:#111;
--accent:#6C5CE7;
--theme-color:#6C5CE7;
}

body{
font-family:'Poppins',sans-serif;
background:var(--bg-light);
transition:0.4s ease;
overflow-x:hidden;
color:#111;
}

body.dark-mode{
background:var(--dark-bg);
color:#fff;
}

/* MAIN WRAPPER */
.main-wrapper{
background:var(--container);
margin:30px;
border-radius:20px;
padding:40px 30px;
position:relative;
overflow:hidden;
transition:0.4s ease;
box-shadow:0 10px 30px rgba(0,0,0,0.05);
}
body.dark-mode .main-wrapper{
background:rgba(46,46,72,0.7);
backdrop-filter:blur(15px); /* glassmorphism */
}

/* FLOATING SHAPES */
.shape{
position:absolute;
border-radius:50%;
filter:blur(120px);
opacity:0.15;
animation:float 8s infinite alternate ease-in-out;
}
.shape1{width:280px;height:280px;background:#dfe9f3;top:-100px;left:-100px;}
.shape2{width:300px;height:300px;background:#e2ebf0;bottom:-120px;right:-80px;}
body.dark-mode .shape1{background:#3a3a60;}
body.dark-mode .shape2{background:#444470;}

@keyframes float{
from{transform:translateY(0);}
to{transform:translateY(40px);}
}/* HERO IMAGE */
.hero-img{
width:240px;
height:150px;
border-radius:150px 150px 0 0;
object-fit:cover;
transition:0.4s;
}

/* REMOVE OLD DARK MODE LOGO SWAP */
/* body.dark-mode .hero-img { content:url(...); } */

/* Optional: add subtle dark overlay in dark mode instead of replacing image */
body.dark-mode .hero-img{
filter:brightness(0.9); /* slightly darken image for dark mode */
}

/* SERVICE CARD */
.service-card{
border-radius:15px;
padding:18px;
background:#f8f9fc;
transition:0.4s ease;
color:#111;
border:3px solid transparent;
position:relative;
overflow:hidden;
}

.service-card::before{
content:"";
position:absolute;
top:-50%;
left:-50%;
width:200%;
height:200%;
background:linear-gradient(45deg, #6C5CE7, #00b894, #fdcb6e, #e17055, #6C5CE7);
animation:gradient 8s linear infinite;
opacity:0;
transition:0.3s;
border-radius:inherit;
z-index:0;
}

.service-card:hover::before{
opacity:0.15;
}

.service-card > *{
position:relative;
z-index:1;
}

@keyframes gradient{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

/* DARK MODE CARD */
body.dark-mode .service-card{
background:rgba(46,46,72,0.7);
color:#fff;
backdrop-filter:blur(12px);
box-shadow:0 10px 25px rgba(0,0,0,0.4);
}

/* CARD TEXT DARK MODE */
body.dark-mode .service-card p,
body.dark-mode .service-card h6{
color:#fff;
}

/* BUTTON */
.buy-btn{
background:var(--primary);
color:#fff;
border-radius:30px;
padding:6px 16px;
font-size:13px;
transition:0.3s;
}

body.dark-mode .buy-btn{
background:var(--theme-color);
}

/* CART BADGE */
.cart-badge{
background:red;
color:#fff;
border-radius:50%;
padding:4px 8px;
font-size:12px;
}

/* QUANTITY BUTTON */
.quantity-btn{
border:none;
background:#ddd;
padding:2px 8px;
border-radius:5px;
margin:0 3px;
cursor:pointer;
transition:0.3s;
}

body.dark-mode .quantity-btn{
background:#555;
color:#fff;
}

/* REMOVE BUTTON */
.remove-btn{
border:none;
background:#ef4444;
color:#fff;
padding:2px 6px;
border-radius:5px;
font-size:12px;
cursor:pointer;
}

/* CART ITEMS DARK */
body.dark-mode #cart-items{
color:#fff;
}

/* THEME SELECTOR */
.theme-selector{
margin-top:15px;
display:flex;
align-items:center;
gap:8px;
}
.theme-btn{
width:24px;
height:24px;
border-radius:50%;
border:none;
cursor:pointer;
transition:0.3s;
}
</style>
</head>
<body>

<div class="shape shape1"></div>
<div class="shape shape2"></div>

<div class="main-wrapper">

<div class="text-center mb-3" data-aos="fade-down">
<h2>P-Som Company</h2>
<button class="btn btn-dark btn-sm" onclick="toggleMode()">ðŸŒ™ Toggle Mode</button>
<div class="mt-2">
ðŸ›’ Cart <span id="cart-count" class="cart-badge">0</span>
| Total: $<span id="cart-total">0</span>
<button class="btn btn-success btn-sm ms-2" data-bs-toggle="modal" data-bs-target="#checkoutModal">Checkout</button>
</div>
</div>

<div class="text-center mb-4" data-aos="fade-up">
  <div class="hero-img-container" style="position:relative; display:inline-block;">
    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f" class="hero-img mb-3" id="heroImage">
    <!-- optional dark logo overlay -->
    <img src="https://via.placeholder.com/240x150/ffffff/000000?text=Logo+Dark" id="darkLogo" 
         style="position:absolute; top:0; left:0; width:100%; height:100%; border-radius:inherit; display:none;">
  </div>
  <p class="w-75 mx-auto small">
    At <strong>P-Som Company</strong>, we deliver innovative digital solutions focused on performance and growth.
  </p>
</div>
<h4 class="text-center mb-3">Recent Services</h4>

<div id="servicesContainer" class="row g-3"></div>

<!-- CART ITEMS DISPLAY -->
<div class="mt-4">
<h6>Your Cart</h6>
<div id="cart-items"></div>
</div>

</div>

<!-- Checkout Modal (UNCHANGED) -->
<div class="modal fade" id="checkoutModal">
<div class="modal-dialog modal-lg modal-dialog-centered">
<div class="modal-content">
<div class="modal-header">
<h5>Secure Checkout</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<h6>Total: $<span id="modal-total">0</span></h6>
<form id="paymentForm">
<input class="form-control mb-3" placeholder="Cardholder Name" required>
<input class="form-control mb-3" placeholder="Card Number" required>
<div class="row">
<div class="col"><input class="form-control mb-3" placeholder="MM/YY"></div>
<div class="col"><input class="form-control mb-3" placeholder="CVV"></div>
</div>
<button type="submit" class="btn btn-success w-100">Pay Now</button>
</form>
</div>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>

<script>
AOS.init();

const services=[
{name:"Web Development",price:120},
{name:"Brand Identity",price:90},
{name:"SEO Optimization",price:75},
{name:"Digital Marketing",price:150},
{name:"App Development",price:180},
{name:"IT Consulting",price:200}
];

let cart=JSON.parse(localStorage.getItem("psomCart"))||[];

function renderServices(){
const container=document.getElementById("servicesContainer");
services.forEach((s,i)=>{
container.innerHTML+=`
<div class="col-md-6 col-lg-2" data-aos="fade-up" data-aos-delay="${i*100}">
<div class="service-card text-center">
<h6>${s.name}</h6>
<div>â˜…â˜…â˜…â˜…â˜…</div>
<p><strong>$${s.price} USD</strong></p>
<button class="btn buy-btn" onclick="addToCart('${s.name}',${s.price})">BUY NOW</button>
</div>
</div>`;
});
}
renderServices();


function addToCart(name,price){
let item=cart.find(i=>i.name===name);
if(item){
item.quantity++;
}else{
cart.push({name,price,quantity:1});
}
updateCart();
}

function changeQty(name,delta){
let item=cart.find(i=>i.name===name);
if(item){
item.quantity+=delta;
if(item.quantity<=0){
removeItem(name);
}
}
updateCart();
}

function removeItem(name){
cart=cart.filter(i=>i.name!==name);
updateCart();
}

function updateCart(){
localStorage.setItem("psomCart",JSON.stringify(cart));
let total=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);

document.getElementById("cart-count").innerText=cart.length;
document.getElementById("cart-total").innerText=total;
document.getElementById("modal-total").innerText=total;

let html="";
cart.forEach(item=>{
html+=`
<div class="d-flex justify-content-between align-items-center border-bottom py-2">
<span>${item.name}</span>
<div>
<button class="quantity-btn" onclick="changeQty('${item.name}',-1)">-</button>
${item.quantity}
<button class="quantity-btn" onclick="changeQty('${item.name}',1)">+</button>
<button class="remove-btn" onclick="removeItem('${item.name}')">x</button>
</div>
</div>`;
});
document.getElementById("cart-items").innerHTML=html;
}
updateCart();

// Updated toggle with persistence
function toggleMode(){
document.body.classList.toggle("dark-mode");
let isDark = document.body.classList.contains("dark-mode");
localStorage.setItem("darkMode",isDark);
document.querySelector(".toggle-btn").innerHTML = isDark ? "â˜€ Light Mode" : "ðŸŒ™ Dark Mode";
}

document.getElementById("paymentForm").addEventListener("submit",function(e){
e.preventDefault();
generateInvoice();
cart=[];
updateCart();
alert("Payment Successful!");
});
function generateInvoice(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  // Get cardholder name from the form
  const cardholderName = document.querySelector("#paymentForm input[placeholder='Cardholder Name']").value || "Customer";

  // Set initial coordinates
  let y = 20;

  // Logo as base64 or URL (replace with your own logo)
  const logoData = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAyCAYAAADHJziGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAACXZwQWcAAAAyAAAA...'; // replace with your logo base64

  try{
    doc.addImage(logoData, 'PNG', 80, 5, 50, 20);
  } catch(e){
    doc.setFontSize(12);
    doc.text("P-Som Company", 105, 20, null, null, "center");
  }

  // Title
  doc.setFontSize(14);
  doc.text("Receipt", 105, 35, null, null, "center");

  // Items
  doc.setFontSize(12);
  y = 45;
  cart.forEach(item => {
    doc.text(`${item.name} x${item.quantity} - $${item.price * item.quantity}`, 20, y);
    y += 10;
  });

  // Total
  let total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
  doc.setFontSize(13);
  doc.text(`Total: $${total}`, 20, y + 10);

  // Footer with cardholder name
  doc.setFontSize(11);
  doc.text(`${cardholderName}, Thank you for shopping with us`, 105, y + 25, null, null, "center");

  // Save PDF
  doc.save("P-Som-Receipt.pdf");
}// Dark mode persistence
document.addEventListener("DOMContentLoaded",()=>{
if(localStorage.getItem("darkMode")==="true"){
document.body.classList.add("dark-mode");
document.querySelector(".toggle-btn").innerHTML="â˜€ Light Mode";
}else{
document.querySelector(".toggle-btn").innerHTML="ðŸŒ™ Dark Mode";
}
updateCart();
});


// Theme color selector
const colors=["#6C5CE7","#00b894","#fdcb6e","#e17055","#d63031"];
const themeContainer = document.createElement("div");
themeContainer.className="theme-selector";
themeContainer.innerHTML="<span>Theme:</span>";
colors.forEach(c=>{
let btn=document.createElement("button");
btn.className="theme-btn";
btn.style.background=c;
btn.onclick=()=>{document.documentElement.style.setProperty("--theme-color",c);}
themeContainer.appendChild(btn);
});
document.querySelector(".main-wrapper").appendChild(themeContainer);
// Dark mode image handling
function toggleMode(){
  document.body.classList.toggle("dark-mode");
  let isDark = document.body.classList.contains("dark-mode");
  localStorage.setItem("darkMode",isDark);
  document.querySelector(".toggle-btn").innerHTML = isDark ? "â˜€ Light Mode" : "ðŸŒ™ Dark Mode";

  // Toggle dark logo overlay
  const darkLogo = document.getElementById("darkLogo");
  if(darkLogo){
    darkLogo.style.display = isDark ? "block" : "none";
  }
}
</script>

</body>
</html>